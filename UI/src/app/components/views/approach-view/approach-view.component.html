<div *ngIf='this.isDataLoading' class='loading-container' fxLayout='column' fxLayoutAlign='center center'>
  <mat-spinner color='accent'></mat-spinner>
</div>
<div *ngIf='!isDataLoading' style='margin-bottom: 32px' fxLayout='column' fxLayoutAlign='start center'>
  <h1>{{refactoringApproach.approachSource?.title}}</h1>
  <button mat-raised-button color='accent' (click)='goToEdit()'>
    <mat-icon>edit</mat-icon>
    <span>Edit</span>
  </button>

  <mat-card>
    <mat-card-title>Source</mat-card-title>
    <mat-card-content *ngIf='refactoringApproach.approachSource'>
      <div fxLayout='row'>
        <div fxFlex='25'>
          <h3>Authors</h3>
        </div>
        <div fxFlex>
          <p>{{refactoringApproach.approachSource.authors}}</p>
        </div>
      </div>

      <div fxLayout='row'>
        <div fxFlex='25'>
          <h3>Year</h3>
        </div>
        <div fxFlex>
          <p>{{refactoringApproach.approachSource.year}}</p>
        </div>
      </div>

      <div *ngIf='refactoringApproach.approachSource.link' fxLayout='row'>
        <div fxFlex='25'>
          <h3>Link</h3>
        </div>
        <div class='link-wrapper' fxFlex>
          <a [href]='refactoringApproach.approachSource.link'
             target='_blank'>{{refactoringApproach.approachSource.link}}</a>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card style='width: 80%'>
    <mat-card-title>Inputs</mat-card-title>
    <mat-card-content>
      <div *ngIf='refactoringApproach.domainArtifactInputs && refactoringApproach.domainArtifactInputs.length > 0'
           fxLayout='row'>
        <div fxFlex='25'>
          <h3>Domain Artifacts</h3>
        </div>
        <div fxFlex fxLayout='column'>
          <div *ngFor='let domainArtifact of refactoringApproach.domainArtifactInputs'>
            <p><strong>{{domainArtifact.name}}</strong></p>
            <p *ngIf='domainArtifact.description'>
              {{domainArtifact.description}}
            </p>
          </div>
        </div>
      </div>

      <div *ngIf='refactoringApproach.runtimeArtifactInputs && refactoringApproach.runtimeArtifactInputs.length > 0'
           fxLayout='row'>
        <div fxFlex='25'>
          <h3>Runtime Artifacts</h3>
        </div>
        <div fxFlex fxLayout='column'>
          <div *ngFor='let runtimeArtifact of refactoringApproach.runtimeArtifactInputs'>
            <p><strong>{{runtimeArtifact.name}}</strong></p>
            <p *ngIf='runtimeArtifact.description'>
              {{runtimeArtifact.description}}
            </p>
          </div>
        </div>
      </div>

      <div *ngIf='refactoringApproach.modelArtifactInputs && refactoringApproach.modelArtifactInputs.length > 0'
           fxLayout='row'>
        <div fxFlex='25'>
          <h3>Model Artifacts</h3>
        </div>
        <div fxFlex fxLayout='column'>
          <div *ngFor='let modelArtifact of refactoringApproach.modelArtifactInputs'>
            <p><strong>{{modelArtifact.name}}</strong></p>
            <p *ngIf='modelArtifact.description'>
              {{modelArtifact.description}}
            </p>
          </div>
        </div>
      </div>

      <div *ngIf='refactoringApproach.executableInputs && refactoringApproach.executableInputs.length > 0'
           fxLayout='row'>
        <div fxFlex='25'>
          <h3>Executables</h3>
        </div>
        <div fxFlex fxLayout='column'>
          <div *ngFor='let executable of refactoringApproach.executableInputs'>
            <p><strong>{{executable.name}}, Language: {{executable.language}}</strong></p>
            <p *ngIf='executable.description'>
              {{executable.description}}
            </p>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-title>Process</mat-card-title>
    <mat-card-content *ngIf='refactoringApproach.approachProcess'>
      <div
        *ngIf='refactoringApproach.approachProcess.qualities && refactoringApproach.approachProcess.qualities.length > 0'
        fxLayout='row'>
        <div fxFlex='25'>
          <h3>Qualities</h3>
        </div>
        <div fxFlex fxLayout='column'>
          <div *ngFor='let quality of refactoringApproach.approachProcess.qualities'>
            <p><strong>{{quality.name}}</strong></p>
            <p *ngIf='quality.description'>
              {{quality.description}}
            </p>
          </div>
        </div>
      </div>

      <div
        *ngIf='refactoringApproach.approachProcess.directions && refactoringApproach.approachProcess.directions.length > 0'
        fxLayout='row'>
        <div fxFlex='25'>
          <h3>Directions</h3>
        </div>
        <div fxFlex fxLayout='column'>
          <div *ngFor='let direction of refactoringApproach.approachProcess.directions'>
            <p><strong>{{direction.name}}</strong></p>
            <p *ngIf='direction.description'>
              {{direction.description}}
            </p>
          </div>
        </div>
      </div>

      <div
        *ngIf='refactoringApproach.approachProcess.automationLevels && refactoringApproach.approachProcess.automationLevels.length > 0'
        fxLayout='row'>
        <div fxFlex='25'>
          <h3>Automation levels</h3>
        </div>
        <div fxFlex fxLayout='column'>
          <div *ngFor='let automationLevel of refactoringApproach.approachProcess.automationLevels'>
            <p><strong>{{automationLevel.name}}</strong></p>
            <p *ngIf='automationLevel.description'>
              {{automationLevel.description}}
            </p>
          </div>
        </div>
      </div>

      <div
        *ngIf='refactoringApproach.approachProcess.analysisTypes && refactoringApproach.approachProcess.analysisTypes.length > 0'
        fxLayout='row'>
        <div fxFlex='25'>
          <h3>Analysis types</h3>
        </div>
        <div fxFlex fxLayout='column'>
          <div *ngFor='let analysisType of refactoringApproach.approachProcess.analysisTypes'>
            <p><strong>{{analysisType.name}}</strong></p>
            <p *ngIf='analysisType.description'>
              {{analysisType.description}}
            </p>
          </div>
        </div>
      </div>

      <div
        *ngIf='refactoringApproach.approachProcess.techniques && refactoringApproach.approachProcess.techniques.length > 0'
        fxLayout='row'>
        <div fxFlex='25'>
          <h3>Techniques</h3>
        </div>
        <div fxFlex fxLayout='column'>
          <div *ngFor='let technique of refactoringApproach.approachProcess.techniques'>
            <p><strong>{{technique.name}}</strong></p>
            <p *ngIf='technique.description'>
              {{technique.description}}
            </p>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-title>Outputs</mat-card-title>
    <mat-card-content *ngIf='refactoringApproach.approachOutputs'>
      <div *ngFor='let output of refactoringApproach.approachOutputs'
           fxLayout='row'>
        <div fxFlex='25'>
          <p><strong>Architecture:</strong> {{output.architecture.name}}</p>
        </div>
        <div fxFlex='25'>
          <p><strong>Service type:</strong> {{output.serviceType.name}}</p>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <mat-card>
    <mat-card-title>Usability</mat-card-title>
    <mat-card-content *ngIf='refactoringApproach.approachUsability'>
      <div fxLayout='row'>
        <div fxFlex='25'>
          <h3>Validation method</h3>
        </div>
        <div fxFlex>
          <p>
            <strong>{{refactoringApproach.approachUsability.validationMethod.name}}</strong>
          </p>
          <p *ngIf='refactoringApproach.approachUsability.validationMethod.description'>
            {{refactoringApproach.approachUsability.validationMethod.description}}
          </p>
        </div>
      </div>

      <div fxLayout='row'>
        <div fxFlex='25'>
          <h3>Tool support</h3>
        </div>
        <div fxFlex>
          <p>
            <strong>{{refactoringApproach.approachUsability.toolSupport.name}}</strong>
          </p>
          <p *ngIf='refactoringApproach.approachUsability.toolSupport.description'>
            {{refactoringApproach.approachUsability.toolSupport.description}}
          </p>
        </div>
      </div>

      <div fxLayout='row'>
        <div fxFlex='25'>
          <h3>Results quality</h3>
        </div>
        <div fxFlex>
          <p>
            <strong>{{refactoringApproach.approachUsability.resultsQuality.name}}</strong>
          </p>
          <p *ngIf='refactoringApproach.approachUsability.resultsQuality.description'>
            {{refactoringApproach.approachUsability.resultsQuality.description}}
          </p>
        </div>
      </div>

      <div fxLayout='row'>
        <div fxFlex='25'>
          <h3>Accuracy/Precision</h3>
        </div>
        <div fxFlex>
          <p>
            <strong>{{refactoringApproach.approachUsability.accuracyPrecision.name}}</strong>
          </p>
          <p *ngIf='refactoringApproach.approachUsability.accuracyPrecision.description'>
            {{refactoringApproach.approachUsability.accuracyPrecision.description}}
          </p>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
